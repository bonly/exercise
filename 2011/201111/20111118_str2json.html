
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
		<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>字符串格式json如何转化成json对象</title>
		<style type="text/css"></style>
		<script type="text/javascript">
			//方法1：js下用eval生成JSON对象
			function strJsonToJsonByEval(jsonData){ 
				var json = eval("(" + jsonData +")");//转换为json对象   
				return json;
			}
			
			//方法2：使用函数方式
			function strJsonToJsonByFunction(jsonData){ 
			　　return ( new Function("return "+jsonData) )(); 
			}
            
            window.onload = function() {
            	var jsonData = " {name1:'1',value1:'a',name2:'2',value2:'b' }";
				var json1 = strJsonToJsonByFunction(jsonData);
				alert("Function || " + json1.name1 + "  ---  " + json1.name2);
				
				var json2 = eval("(  {name1:'1',value1:'a',name2:'2',value2:'b' } )");
				alert("eval(\"(\"jsonData\")\")  || " + json2.value1 + "  ---  " + json2.value2);
				
				var json3 = strJsonToJsonByEval(jsonData);
				alert("Eval || " + json3.value1 + "  ---  " + json3.value2);
            }
		</script>
		</head>
		<body>
		</body>
</html>

